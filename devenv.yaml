[containers]
  [containers.hugo]
    image = "ghcr.io/nix-community/hugo:${hugo}"

[env]
  HUGO_VERSION = "0.154.1"

[flake]
  nixConfig.extraSubstituters = ["https://devenv.cachix.org"]
  nixConfig.trustedPublicKeys = ["devenv.cachix.org-1:XVxkRQ/ScL7WeZ1XuLKR4X8RPgYSn6O4pFmsM5G7cPs="]

[tasks]
  # Development tasks
  dev = "hugo server --bind 0.0.0.0 --port 1313 --buildDrafts --disableFastRender"
  build = "hugo --gc --minify"
  lint = "npm run lint"
  new-post = "hugo new posts/{{ .post }}.md"

[enterShell]
  echo "Welcome to denvit-blog development environment!"
  echo "Run 'devenv up' to start the Hugo server, or 'devenv shell' for a shell."
